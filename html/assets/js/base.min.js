"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}angular.module("XXXXXX",["ui.router","ui.router.title","firebaseHelper","ngHandsontable"]).config(["$locationProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$stateProvider","$firebaseHelperProvider","$provide",function(e,t,a,r,o){e.html5Mode(!0).hashPrefix("!"),t.when("","/"),t.when("home","/"),a.strictMode(!1);var n=["home"];r.state("main",{"abstract":!0,templateUrl:"views/main.html"}).state("page",{parent:"main",url:"/{page:|"+n.join("|")+"}",templateUrl:function(e){return"views/page/"+(e.page||"home")+".html"},resolve:{$title:["$stateParams",function(e){switch(e.page){case"":case"home":return"";default:return e.page[0].toUpperCase()+e.page.slice(1)}}]}}).state("404",{parent:"main",templateUrl:"views/page/404.html"}),t.otherwise(function(e,t){var a=e.get("$state");return a.go("404",null,{location:!1}),t.path()}),o.namespace("scotdance")}]).controller("AppCtrl",["$rootScope","$scope","$state","$firebaseHelper","$timeout",function(e,t,a,r,o){e.$state=a,r.hotTable=function(){var e=r.ref.apply(this,arguments),t={parse:function(a){o(function(){t.revisions?console.info(t.revisions+" revision"+(1===t.revisions?" has":"s have")+" been made to this reference since you last saved:",e.path.toString()):!function(){var e,r=a.exportVal(),o=Object.keys(r).map(function(e){var t=angular.copy(r[e]);return t.$id=e,t});(e=t.data).splice.apply(e,[0,t.data.length].concat(_toConsumableArray(o)))}(),t.revisions++})},init:function(){e.orderByPriority().on("value",t.parse)},refresh:function(){t.revisions=0,e.orderByPriority().once("value",t.parse)},save:function(){var a={};t.data.forEach(function(e){var t=e.$id,r=angular.copy(e);delete r.$id,t&&(a[t]=r)}),console.log("saving",a),t.revisions=0,e.update(a)},revisions:0,data:[]};return t.init(),t},t.fbHot=r.hotTable("competitionsData/idc0/dancers"),t.settings={columns:[{data:"number",title:"#",readOnly:!0},{data:"firstName",title:"First Name"},{data:"lastName",title:"Last Name"},{data:"location",title:"Location"}],minSpareRows:1,undo:!0,contextMenu:["remove_row","---------","undo"]}}]);